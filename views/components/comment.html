<div ng-controller="CommentCtrl">
    <div class="comment {{ class }}">
        <div class="row">
            <div class="col-xs-1 backButton ng-binding" ng-click="hideCommentBox()">
                <span class="fa fa-arrow-left"></span>
            </div>
            <div class="upArrow" ng-click="toggleFullScreen()">
                <span class="fa {{ arrow }}">
            </div>
        </div>

        <div class="row mt10">
            <div class="col-sm-8 col-xs-9 col-sm-offset-1">
                <div class="form-group">
                    <textarea ng-model="txtcomment" class="form-control pull-left" name="comment" id="comment" placeholder="What you think?" rows="1"></textarea>
                </div>
            </div>
            <div class="col-xs-3">
                <button title="Write in Support" ng-click='addComment("up");' class="btn btn-success submit"><i class="fa fa-bullhorn" aria-hidden="true"></i><span class="hidden-xs"></span></button>
                <button title="Write in Oppose" ng-click='addComment("down");' class="btn btn-default submit"><i class="fa fa-thumbs-down" aria-hidden="true"></i><span class="hidden-xs"></span></button>
            </div>
          </div>
          <div class="row">
            <div class="col-sm-4 col-sm-offset-3">
                <h4>{{ comments.length > 0 ? 'Opinions' : 'No opinions' }}</h4>
                <ul class="row">
                    <li ng-repeat="thisComment in comments" class="usrComments mt30">
                        <div class="col-xs-2">
                            <img ng-src="https://graph.facebook.com/{{ userInfo[thisComment.uid] ? userInfo[thisComment.uid] : user.id }}/picture?width=30" class="img-circle">
                        </div>
                        <div class="col-xs-8">
                            {{ thisComment.description }}
                        </div>
                        <div class="col-xs-1">
                            <a style="float: right;" ng-click="removeComment($index, thisComment.cid, thisComment.tid)"><span class="fa fa-trash-o"></span></a>
                        </div>
                    </li>
                </ul>
                <div ng-show='fetchingComments'>
                    <img ng-src="/assets/img/comment-loader.svg">
                </div>
                <div class="row" ng-hide='fetchingComments'>
                    <div ng-show="comments.length > 0" ng-click="loadMoreComments()" class="crsrPntr text-center">
                        <small>Load more <span class="fa fa-arrow-down"></span></small>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
